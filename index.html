<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Formul√°rio | Falta de Pe√ßa</title>

<style>
body {
    font-family: Arial, Helvetica, sans-serif;
    background-color: #f4f6f8;
    margin: 0;
    padding: 10px;
}

.container {
    max-width: 100%;
    background: #ffffff;
    padding: 15px;
    border-radius: 6px;
}

/* HEADER */
.header {
    display: flex;
    align-items: center;
    background-color: #002f6c;
    padding: 12px;
    border-radius: 4px;
    margin-bottom: 15px;
}

.logo {
    font-size: 26px;
    font-weight: bold;
    color: #ffffff;
    margin-right: 10px;
}

.header-title {
    color: white;
    font-size: 16px;
    font-weight: bold;
    text-align: center;
    flex: 1;
}

/* TABLE */
table {
    width: 100%;
    border-collapse: collapse;
}

th {
    background-color: #e3f0fb;
    font-size: 12px;
    padding: 6px;
    border: 1px solid #000;
}

td {
    border: 1px solid #000;
    padding: 6px;
}

input, select, textarea {
    width: 100%;
    padding: 10px;
    font-size: 14px;
    box-sizing: border-box;
}

/* MOBILE */
@media (max-width: 768px) {
    table, thead, tbody, th, tr {
        display: block;
    }

    thead {
        display: none;
    }

    tr {
        border: 1px solid #ccc;
        margin-bottom: 15px;
        padding: 10px;
        border-radius: 6px;
        background: #f9f9f9;
    }

    td {
        border: none;
        padding: 5px 0;
    }

    td::before {
        content: attr(data-label);
        font-weight: bold;
        display: block;
        margin-bottom: 3px;
        font-size: 12px;
    }
}

.section-title {
    margin-top: 20px;
    background-color: #e3f0fb;
    text-align: center;
    font-weight: bold;
    padding: 8px;
    border-radius: 4px;
}

.actions {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 15px;
}

.btn {
    padding: 14px;
    background-color: #002f6c;
    color: #fff;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
}

.btn-secondary {
    background-color: #6c757d;
}
</style>
</head>

<body>

<div class="container">

<div class="header">
    <div class="logo">N.</div>
    <div class="header-title">FORMUL√ÅRIO | FALTA DE PE√áA</div>
</div>

<table id="tabela">
<tbody>
<tr>
<td data-label="üìÖ Data"><input type="date" required></td>
<td data-label="üë§ L√≠der Qualidade"><input type="text" required></td>
<td data-label="‚è∞ Turno">
<select required>
<option value="">Selecione</option>
<option>T1</option>
<option>T2</option>
<option>T3</option>
</select>
</td>
<td data-label="üì¶ Qtd CX"><input type="number" min="1" required></td>
<td data-label="üî¢ Item"><input type="text" required></td>
<td data-label="‚ö†Ô∏è Ocorr√™ncia">
<select required>
<option value="">Selecione</option>
<option>Falta de CX</option>
<option>Falta de Estojo</option>
<option>Mistura de Item</option>
<option>Falta de Insumos</option>
<option>Falta de PC</option>
<option>Sobra de CX</option>
<option>Sobra de PC</option>
</select>
</td>
<td data-label="‚úîÔ∏è Visto"><input type="text"></td>
</tr>
</tbody>
</table>

<div class="section-title">üìù OBSERVA√á√ïES</div>
<textarea id="obs" rows="4"></textarea>

<div class="actions">
<button class="btn btn-secondary" onclick="adicionarLinha()">‚ûï Nova Ocorr√™ncia</button>
<button class="btn" onclick="enviarWhatsApp()">üì≤ Enviar WhatsApp</button>
</div>

</div>

<script>
function adicionarLinha() {
    const tbody = document.querySelector("#tabela tbody");
    const novaLinha = tbody.rows[0].cloneNode(true);
    novaLinha.querySelectorAll("input, select").forEach(c => c.value = "");
    tbody.appendChild(novaLinha);
}

function enviarWhatsApp() {
    const linhas = document.querySelectorAll("#tabela tbody tr");
    const total = linhas.length;

    let msg = "üìã *FORMUL√ÅRIO ‚Äì FALTA DE PE√áA*\n";
    msg += "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n";

    linhas.forEach((linha, i) => {
        const c = linha.querySelectorAll("input, select");

        // Mostra t√≠tulo somente se houver mais de uma ocorr√™ncia
        if (total > 1) {
            msg += `üü¶ *Ocorr√™ncia ${i + 1}*\n`;
        }

        msg += `üìÖ Data: ${c[0].value}\n`;
        msg += `üë§ L√≠der Qualidade: ${c[1].value}\n`;
        msg += `‚è∞ Turno: ${c[2].value}\n`;
        msg += `üì¶ Qtd CX: ${c[3].value}\n`;
        msg += `üî¢ Item: ${c[4].value}\n`;
        msg += `‚ö†Ô∏è Ocorr√™ncia: ${c[5].value}\n`;
        msg += `‚úîÔ∏è Visto: ${c[6].value || "‚Äî"}\n`;

        if (total > 1) {
            msg += "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n";
        }
    });

    const obs = document.getElementById("obs").value;
    if (obs) {
        msg += `üìù *Observa√ß√µes:*\n${obs}\n\n`;
    }

    msg += "üì∏ *Anexar imagens da ocorr√™ncia, se necess√°rio.*";

    window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`, "_blank");
}
</script>

</body>
</html>
